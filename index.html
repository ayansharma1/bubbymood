<!DOCTYPE html>
<html>
<head>
	<script>
		if (counterElement % 2 == 0) {
				document.getElementById('octopus').setAttribute("class", "happy")
			} else if (counterElement % 2 != 0) {
				document.getElementById('octopus').setAttribute("class", "sad")
			}
	</script>
	<title>Mood tracker :)</title>
	<style>
		#container {
			width: 1000px;
			height: 1000px;
			margin: auto;
			text-align: center;
		}

		#octopus {
			width: 100%;
			height: 100%;
			margin: auto;
		}
		.happy {
			background: url('happy.jpg') no-repeat;
		}

		.sad {
			background: url('sad.jpg') no-repeat;
		}
	</style>
</head>
<body>
	<div id="container" >
		<h1>Click on the octopus to change mood :)</h1>
		<div id="octopus" onclick="incrementCounter()"></div>
		<div class="count"></div>
	</div>
	
	<script>
		var initcounterElement = document.getElementsByClassName('count')[0];
		var counterElement = document.getElementsByClassName('count')[0];
		window.onload = function updateCounter() {
			fetch('https://api.countapi.xyz/get/bubs/bubby/')
			.then(res => res.json())
			.then(data => counterElement.innerHTML = data.value);
			initialMood();
		}

		function initialMood() {
			var num = parseInt(document.getElementsByClassName('count').innerHTML);
			if ((num % 2) === 0) {
				document.getElementById("octopus").setAttribute('class', 'sad');
			} else {
				document.getElementById("octopus").setAttribute('class', 'happy');
			}
		}
	
		function incrementCounter() {
			fetch('https://api.countapi.xyz/hit/bubs/bubby/')
			.then(res => res.json())
			.then(data => counterElement.innerHTML = data.value);
			if (counterElement.innerHTML % 2 == 0) {
				document.getElementById('octopus').setAttribute('class', 'sad');
			} else {
				document.getElementById('octopus').setAttribute('class', 'happy');
			}
		}
	</script>
</body>
</html>